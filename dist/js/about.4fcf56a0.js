(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"2fdb":function(t,e,o){"use strict";var s=o("5ca1"),n=o("d2c8"),r="includes";s(s.P+s.F*o("5147")(r),"String",{includes:function(t){return!!~n(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"456d":function(t,e,o){var s=o("4bf8"),n=o("0d58");o("5eda")("keys",function(){return function(t){return n(s(t))}})},5147:function(t,e,o){var s=o("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(o){try{return e[s]=!1,!"/./"[t](e)}catch(n){}}return!0}},"5eda":function(t,e,o){var s=o("5ca1"),n=o("8378"),r=o("79e5");t.exports=function(t,e){var o=(n.Object||{})[t]||Object[t],a={};a[t]=e(o),s(s.S+s.F*r(function(){o(1)}),"Object",a)}},6762:function(t,e,o){"use strict";var s=o("5ca1"),n=o("c366")(!0);s(s.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("9c6c")("includes")},aae3:function(t,e,o){var s=o("d3f4"),n=o("2d95"),r=o("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},ac6a:function(t,e,o){for(var s=o("cadf"),n=o("0d58"),r=o("2aba"),a=o("7726"),i=o("32e9"),c=o("84f2"),l=o("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=n(m),h=0;h<v.length;h++){var p,b=v[h],y=m[b],S=a[b],g=S&&S.prototype;if(g&&(g[u]||i(g,u,d),g[f]||i(g,f,b),c[b]=d,y))for(p in s)g[p]||r(g,p,s[p],!0)}},d2c8:function(t,e,o){var s=o("aae3"),n=o("be13");t.exports=function(t,e,o){if(s(e))throw TypeError("String#"+o+" doesn't accept regex!");return String(n(t))}},f97d:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"system",attrs:{fluid:""}},[o("v-layout",[o("v-flex",{attrs:{md5:""}},[o("v-card",[o("v-container",{attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},t._l(t.rooms,function(e,s){return o("v-flex",{key:s,attrs:{"d-flex":"",md2:""}},[o("v-card",{attrs:{color:e.active?"green":"red"}},[o("v-card-title",[t._v(t._s(e.key))]),o("v-card-actions",[o("v-btn",{attrs:{flat:"",color:"info"},on:{click:function(o){return t.showInfo(e)}}},[t._v("Info")])],1)],1)],1)}),1)],1)],1)],1),o("v-spacer"),o("v-flex",{attrs:{md6:""}},[t.roomInfo.key?o("v-card",[o("v-card-title",{attrs:{"primary-title":""}},[t._v(t._s(t.roomInfo.key))]),t._v("\n        maxStaff: "+t._s(t.roomInfo.maxStaff)+"\n        "),o("v-data-table",{attrs:{headers:t.headers,items:t.roomInfo.sensors,"rows-per-page-text":"25","hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.key))]),o("td",[t._v(t._s(e.item.value))])]}}],null,!1,2810073185)})],1):t._e()],1)],1)],1)},n=[],r=(o("ac6a"),o("456d"),o("6762"),o("2fdb"),o("bc3a")),a=o.n(r),i=o("34eb"),c=o.n(i),l={name:"System",data:function(){return{baseUrl:"http://",roomInfo:{key:null,maxStaff:null,sensors:[]},rooms:{},headers:[{text:"name",align:"left",value:"key"},{text:"value",align:"left",sortable:!1,value:"key"}],subscriptions:[]}},methods:{showInfo:function(t){var e=this;for(var o in this.roomInfo.sensors=[],this.roomInfo.key=t.key,this.roomInfo.maxStaff=t.maxStaff,this.subscriptions)this.$mqtt.unsubscribe(this.subscriptions[o]);this.subscriptions=[],a.a.get(this.baseUrl+"/api/roomsensors/"+t.key).then(function(o){console.log("GET request: /api/roomsensors/"+t.key+" success"),console.log(o);var s=o.data.sensors;for(var n in s)null==s[n].sensortopic||e.subscriptions.includes(s[n].sensortopic)||(e.$mqtt.subscribe(s[n].sensortopic),e.subscriptions.push(s[n].sensortopic))}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;c.a?this.baseUrl="http://localhost:5000":this.baseUrl+=location.host,a.a.get(this.baseUrl+"/api/allrooms").then(function(e){console.log("GET request: /api/allrooms/ success"),console.log(e),t.rooms=e.data.rooms}).catch(function(t){console.log(t)});var e=this;this.$mqtt.on("message",function(t,o){console.log("mqtt message: '"+t+"' received");var s=JSON.parse(o);if(s.room==e.roomInfo.key){var n=Object.keys(s.data)[0],r={key:n,value:s.data[n]},a=!1;for(var i in e.roomInfo.sensors)if(e.roomInfo.sensors[i].key==n){a=!0;var c=e.roomInfo.sensors.indexOf(e.roomInfo.sensors[i]);e.roomInfo.sensors[c].value=s.data[n];break}a||e.roomInfo.sensors.push(r)}})},mqtt:{}},u=l,f=o("2877"),d=Object(f["a"])(u,s,n,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=about.4fcf56a0.js.map